{% extends 'base.html' %}
{% block body %}
<div class="container">
    <br/>
    <a href="{% url 'all-posts' %}" class="btn btn-outline-secondary btn-sm">Back</a>
    <br/>
    <h1>{{ post.title }}</h1>
    <a href="{% url 'view-profile' post.userprofile.user.pk %}"><small>{{ post.userprofile }}</small></a>
    <p><small>{{ post.date }}</small></p>
    {% for image in post.post_images  %}
        <img src="{{ image.image.url }}" height="400" alt="post_image">
        <br/>
    {% endfor %}

    <br/><br/>
    <p>{{ post.body }}</p>

    <p>
        <strong>Tags:</strong>
        {% for tag in post.tags.all %}
            <a href="{% url 'post_tag' tag.slug %}" class="btn btn-outline-secondary btn-sm active">
                {{tag.name}}
            </a>
        {% endfor %}
    </p>

    <form action="{% url 'like_post' post.pk %}" method="POST">
        {% csrf_token %}
        {% if liked %}
            <button type="submit" name="post_id" value="{{ post.id }}"
                    class="btn btn-outline-danger btn-sm">Unlike</button>
            <small>{{ post.total_likes }} like(s)</small>
        {% else %}
            <button type="submit" name="post_id" value="{{ post.id }}"
                    class="btn btn-outline-primary btn-sm">Like</button>
            <small>{{ post.total_likes }} like(s)</small>
        {% endif %}
    </form>
</div>
{% endblock %}